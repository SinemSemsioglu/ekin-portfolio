app.service("scrollUtil",["$window","appUtil","sectionData","$timeout","scrollTimeValues","homeNavHelper",function(e,t,o,n,i,r){var l=this;this.unsetScrollProperties=function(){var t=$(e);t.off("resize, scroll, scrollstart, scrollstop")},this.toggleDefaultScrollActions=function(t){var o="mousedown wheel DOMMouseScroll mousewheel keyup touchmove",n=$(e);t?n.bind(o,function(e){e.preventDefault()}):n.unbind(o)},this.setScrollPropertiesForHomePage=function(o,r){var s=!1,c=$(e);l.getNavBarElement();c.resize(function(){o.mobile=t.isScreenNarrow(),c.stop()}),c.bind("scroll",function(e){s||c.trigger("scrollstart"),e.preventDefault(),s=!0}),c.bind("scrollstart",function(){o.scrolling=!0,r.$apply(),n(function(){c.trigger("scrollstop")},i.TRANSITION_WAIT)}),c.bind("scrollstop",function(){l.decideWhereToGo(),n(function(){s=!1,o.scrolling=!1,r.$apply(),l.toggleDefaultScrollActions(!1)},i.TRANSITION_DURATION)})},this.getElementOffsetTop=function(e){return e.offset().top},this.goToTop=function(){var e=$("html,body");e.animate({scrollTop:0})},this.goToSection=function(o){r.updateSelectedSection(o);var n=l.findNavElement(o),s=l.findSectionElement(o);s.addClass("selected"),n.addClass("selected");var c=l.getElementOffsetTop(s),a=$("html,body");$(e);t.isScreenNarrow()&&l.setNavBarColor(o),a.stop().animate({scrollTop:c},i.TRANSITION_DURATION,"linear")},this.setNavBarColor=function(e){var t="section_"+e,n=o[t].color.nav,r=.8,l=$($(document).find(".logo"));l.css("background-image",'url("/assets/images/logo-'+n+'.svg")'),l.animate({opacity:r},i.NAV_ANIMATION_DURATION,"linear")},this.hideAllNavs=function(){for(var e=$(document).find(".navigation"),t=0;t<e.length;t++)$(e[t]).css("opacity",0)},this.decideWhereToGo=function(){var e=t.getWindowVerticalOffset(),o=t.getScreenHeight(),n=Math.round(e/o);return l.goToSection(n),n},this.findSectionElement=function(e){var t;12>=e&&e>=0&&(t="section-"+e);var o=$(document).find("#"+t);return $(o)},this.getNavBarElement=function(e){var t=l.findSectionElement(e);return $(t.find(".navigation"))},this.findNavElement=function(e){12>=e&&e>0?sectionId="section-"+e:0===e?sectionId="logo":sectionId="blog";"."+sectionId+".nav-button-wrapper";return $($(document).find("buttonClasses"))}}]);